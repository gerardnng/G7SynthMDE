<?xml version="1.0" encoding="ASCII"?>
<grafcetModeling:Grafcet
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:grafcetModeling="http://www.example.org/grafcetModeling"
    name="My Example of Grafcet under Study">
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con1"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con3"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con4"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con5"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con7"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con10"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con11"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con14"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con15"/>
  <connections
      xsi:type="grafcetModeling:StepToTransition"
      name="con18"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con2"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con6"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con8"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con9"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con12"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con13"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con16"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con17"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con19"/>
  <connections
      xsi:type="grafcetModeling:TransitionToStep"
      name="con20"/>
  <transitions
      name="t1"
      receptivity="RE init"
      inConnections="//@connections.0"
      outConnections="//@connections.10">
    <transitionCondition
        name="(RE init)">
      <subExpr2
          isSimple="true"
          name="init"
          variable="//@variables.0"/>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="RE"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t2"
      receptivity="hT2 AND rain"
      inConnections="//@connections.1"
      outConnections="//@connections.11">
    <transitionCondition
        name="(hT2 and rain)">
      <subExpr1
          isSimple="true"
          name="hT2"
          variable="//@variables.1"/>
      <subExpr2
          isSimple="true"
          name="rain"
          variable="//@variables.2"/>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="AND"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t3"
      receptivity="NOT rain AND bWD AND ppM1"
      inConnections="//@connections.2"
      outConnections="//@connections.12">
    <transitionCondition
        name="(((not rain) and bWD) and ppM1)">
      <subExpr1
          name="((not rain) and bWD)">
        <subExpr1
            name="(not rain)">
          <subExpr2
              isSimple="true"
              name="rain"
              variable="//@variables.2"/>
          <operator
              xsi:type="grafcetModeling:LogicalOperator"
              name="NOT"/>
        </subExpr1>
        <subExpr2
            isSimple="true"
            name="bWD"
            variable="//@variables.5"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"
            name="AND"/>
      </subExpr1>
      <subExpr2
          isSimple="true"
          name="ppM1"
          variable="//@variables.6"/>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="AND"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t4"
      receptivity="X_2 AND (ppM2 OR NOT bT1)"
      inConnections="//@connections.3"
      outConnections="//@connections.13">
    <transitionCondition
        name="(X_2 and (ppM2 or (not bT1)))">
      <subExpr1
          isSimple="true"
          name="X_2"
          variable="//@variables.17"/>
      <subExpr2
          name="(ppM2 or (not bT1))">
        <subExpr1
            isSimple="true"
            name="ppM2"
            variable="//@variables.11"/>
        <subExpr2
            name="(not bT1)">
          <subExpr2
              isSimple="true"
              name="bT1"
              variable="//@variables.12"/>
          <operator
              xsi:type="grafcetModeling:LogicalOperator"
              name="NOT"/>
        </subExpr2>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"/>
      </subExpr2>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="AND"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t5"
      receptivity="hT1 OR NOT mT2 OR NOT rain"
      inConnections="//@connections.4"
      outConnections="//@connections.14 //@connections.15">
    <transitionCondition
        name="((hT1 or (not mT2)) or (not rain))">
      <subExpr1
          name="(hT1 or (not mT2))">
        <subExpr1
            isSimple="true"
            name="hT1"
            variable="//@variables.4"/>
        <subExpr2
            name="(not mT2)">
          <subExpr2
              isSimple="true"
              name="mT2"
              variable="//@variables.13"/>
          <operator
              xsi:type="grafcetModeling:LogicalOperator"
              name="NOT"/>
        </subExpr2>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"/>
      </subExpr1>
      <subExpr2
          name="(not rain)">
        <subExpr2
            isSimple="true"
            name="rain"
            variable="//@variables.2"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"
            name="NOT"/>
      </subExpr2>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t6"
      receptivity="[5s/X_4/10s] "
      inConnections="//@connections.7 //@connections.8"
      outConnections="//@connections.19">
    <transitionCondition
        name="[5s/X_4/10s]">
      <subExpr2
          isSimple="true"
          name="X_4"
          variable="//@variables.19"/>
      <operator
          xsi:type="grafcetModeling:TimingOperator"
          type="Delayed2"
          duration1="5"
          duration2="10"
          unit1="s"
          unit2="s"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t7"
      receptivity="hT1 or not bWD or not ppM1"
      inConnections="//@connections.5"
      outConnections="//@connections.16">
    <transitionCondition
        name="((hT1 or (not bWD)) or (not ppM1))">
      <subExpr1
          name="(hT1 or (not bWD))">
        <subExpr1
            isSimple="true"
            name="hT1"
            variable="//@variables.4"/>
        <subExpr2
            name="(not bWD)">
          <subExpr2
              isSimple="true"
              name="bWD"
              variable="//@variables.5"/>
          <operator
              xsi:type="grafcetModeling:LogicalOperator"
              name="NOT"/>
        </subExpr2>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"/>
      </subExpr1>
      <subExpr2
          name="(not ppM1)">
        <subExpr2
            isSimple="true"
            name="ppM1"
            variable="//@variables.6"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"
            name="NOT"/>
      </subExpr2>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t8"
      receptivity="NOT bWD AND bT1 "
      inConnections="//@connections.6"
      outConnections="//@connections.17">
    <transitionCondition
        name="((not bWD) and bT1)">
      <subExpr1
          name="(not bWD)">
        <subExpr2
            isSimple="true"
            name="bWD"
            variable="//@variables.5"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"
            name="NOT"/>
      </subExpr1>
      <subExpr2
          isSimple="true"
          name="bT1"
          variable="//@variables.12"/>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="AND"/>
    </transitionCondition>
  </transitions>
  <transitions
      name="t9"
      receptivity="(N > 0) AND [not 10s/X_8] "
      inConnections="//@connections.9">
    <transitionCondition
        name="((N > 0) and [not 10s/X_8])">
      <subExpr1
          name="(N > 0)">
        <subExpr1
            type="Arithmetic"
            isSimple="true"
            name="N"
            variable="//@variables.15"/>
        <subExpr2
            type="Arithmetic"
            isSimple="true"
            name="0"
            isConstant="true"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"
            name="GT"/>
      </subExpr1>
      <subExpr2
          name="[not 10s/X_8]">
        <subExpr2
            isSimple="true"
            name="X_8"
            variable="//@variables.23"/>
        <operator
            xsi:type="grafcetModeling:TimingOperator"
            type="Limited"
            duration1="10"
            unit1="s"/>
      </subExpr2>
      <operator
          xsi:type="grafcetModeling:LogicalOperator"
          name="AND"/>
    </transitionCondition>
  </transitions>
  <steps name="1"
      isInitial="true"
      outConnections="//@connections.0"
      variable="//@variables.16">
    <actions
        xsi:type="grafcetModeling:StoredAction"
        name="C"
        actionVariable="//@variables.14"
        storedExpression="0">
      <expressionToEvaluate
          type="Arithmetic"
          isSimple="true"
          name="0"
          isConstant="true"/>
    </actions>
    <actions
        xsi:type="grafcetModeling:StoredAction"
        name="N"
        actionVariable="//@variables.15"
        storedExpression="10">
      <expressionToEvaluate
          type="Arithmetic"
          isSimple="true"
          name="10"
          arithmValue="10"
          isConstant="true"/>
    </actions>
  </steps>
  <steps name="2"
      inConnections="//@connections.10 //@connections.18 //@connections.19"
      outConnections="//@connections.1 //@connections.2 //@connections.3"
      variable="//@variables.17"/>
  <steps name="3"
      inConnections="//@connections.11"
      outConnections="//@connections.4"
      variable="//@variables.18">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="VR1"
        actionVariable="//@variables.3"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
  </steps>
  <steps name="4"
      inConnections="//@connections.14"
      outConnections="//@connections.7"
      variable="//@variables.19">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="AV"
        actionVariable="//@variables.9"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
    <actions
        xsi:type="grafcetModeling:StoredAction"
        name="C"
        actionVariable="//@variables.14"
        storedExpression="C + 1">
      <expressionToEvaluate
          type="Arithmetic"
          name="(C + 1)">
        <subExpr1
            type="Arithmetic"
            isSimple="true"
            name="C"
            variable="//@variables.14"/>
        <subExpr2
            type="Arithmetic"
            isSimple="true"
            name="1"
            arithmValue="1"
            isConstant="true"/>
        <operator
            xsi:type="grafcetModeling:AritmeticOperator"/>
      </expressionToEvaluate>
    </actions>
  </steps>
  <steps name="5"
      inConnections="//@connections.15"
      outConnections="//@connections.8"
      variable="//@variables.20">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="IP"
        actionVariable="//@variables.7"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
  </steps>
  <steps name="6"
      inConnections="//@connections.12"
      outConnections="//@connections.5"
      variable="//@variables.21">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="IP"
        actionVariable="//@variables.7"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="A"
        actionVariable="//@variables.10"
        condition="(bWD OR ppM1)">
      <expressionCondition
          name="(bWD or ppM1)">
        <subExpr1
            isSimple="true"
            name="bWD"
            variable="//@variables.5"/>
        <subExpr2
            isSimple="true"
            name="ppM1"
            variable="//@variables.6"/>
        <operator
            xsi:type="grafcetModeling:LogicalOperator"/>
      </expressionCondition>
    </actions>
  </steps>
  <steps name="7"
      inConnections="//@connections.13"
      outConnections="//@connections.6"
      variable="//@variables.22">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="IP"
        actionVariable="//@variables.7"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
  </steps>
  <steps name="8"
      inConnections="//@connections.16 //@connections.17"
      outConnections="//@connections.9"
      variable="//@variables.23">
    <actions
        xsi:type="grafcetModeling:LevelAction"
        name="REC"
        actionVariable="//@variables.8"
        condition="true">
      <expressionCondition
          isSimple="true"
          name="true"
          boolValue="true"
          isConstant="true"/>
    </actions>
    <actions
        xsi:type="grafcetModeling:StoredAction"
        name="N"
        actionVariable="//@variables.15"
        storedExpression="N - 1">
      <expressionToEvaluate
          type="Arithmetic"
          name="(N - 1)">
        <subExpr1
            type="Arithmetic"
            isSimple="true"
            name="N"
            variable="//@variables.15"/>
        <subExpr2
            type="Arithmetic"
            isSimple="true"
            name="1"
            arithmValue="1"
            isConstant="true"/>
        <operator
            xsi:type="grafcetModeling:AritmeticOperator"
            name="SUB"/>
      </expressionToEvaluate>
    </actions>
  </steps>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="init"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="hT2"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="rain"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="VR1"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="hT1"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="bWD"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="ppM1"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="IP"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="REC"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="AV"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="A"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="ppM2"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="bT1"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="mT2"/>
  <variables
      xsi:type="grafcetModeling:NumericVariable"
      name="C"
      type="Output"
      value="1"/>
  <variables
      xsi:type="grafcetModeling:NumericVariable"
      name="N"
      type="Output"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_1"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_2"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_3"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_4"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_5"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_6"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_7"
      type="Internal"/>
  <variables
      xsi:type="grafcetModeling:BooleanVariable"
      name="X_8"
      type="Internal"/>
</grafcetModeling:Grafcet>
